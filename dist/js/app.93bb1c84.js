(()=>{"use strict";var e={525:(e,r,t)=>{var a=t(751),o=t(641);const n={id:"app",class:"app-container"},s={class:"main-content"};function d(e,r,t,a,d,l){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",n,[r[0]||(r[0]=(0,o.Lk)("header",{class:"header"},[(0,o.Lk)("h1",{class:"title"},"Order Management System"),(0,o.Lk)("nav",null,[(0,o.Lk)("ul",{class:"nav-list"},[(0,o.Lk)("li",null,[(0,o.Lk)("a",{href:"/",class:"nav-link"},"Home")])])])],-1)),(0,o.Lk)("main",s,[(0,o.bF)(i)])])}const l={name:"App"};var i=t(262);const c=(0,i.A)(l,[["render",d]]),u=c;var p=t(220),m=t(33);const h={class:"home"},A={class:"filters"},k={class:"filter-item"},f={class:"filter-item"},v={class:"filter-item"},E={class:"filter-item"},S={class:"filter-item"},g=["disabled"],L={key:0,class:"loading"},y={key:1,class:"orders"},O={class:"orders-table"},b=["onClick"];function C(e,r,t,n,s,d){return(0,o.uX)(),(0,o.CE)("div",h,[r[13]||(r[13]=(0,o.Lk)("h1",{class:"title"},null,-1)),r[14]||(r[14]=(0,o.Lk)("p",{class:"description"},null,-1)),(0,o.Lk)("div",A,[(0,o.Lk)("div",k,[r[6]||(r[6]=(0,o.Lk)("label",{for:"marketplace"},"Select Marketplace:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>s.marketplaceId=e),id:"marketplace",class:"select"},r[5]||(r[5]=[(0,o.Fv)('<option value="A28R8C7NBKEWEA">Ireland</option><option value="A1RKKUPIHCS9HS">Spain</option><option value="A1F83G8C2ARO7P">United Kingdom</option><option value="A13V1IB3VIYZZH">France</option><option value="AMEN7PMS3EDWL">Belgium</option><option value="A1805IZSGTT6HS">Netherlands</option><option value="A1PA6795UKMFR9">Germany</option><option value="APJ6JRA9NG5V4">Italy</option><option value="A2NODRKZP88ZB9">Sweden</option><option value="AE08WJ6YKNBMC">South Africa</option><option value="A1C3SOZRARQ6R3">Poland</option><option value="ARBP9OOSHTCHU">Egypt</option><option value="A33AVAJ2PDY3EV">Turkey</option><option value="A17E79C6D8DWNP">Saudi Arabia</option><option value="A2VIGQ35RCS4UG">United Arab Emirates</option><option value="A21TJRUUN4KGV">India</option>',16)]),512),[[a.u1,s.marketplaceId]])]),(0,o.Lk)("div",f,[r[7]||(r[7]=(0,o.Lk)("label",{for:"createdAfter"},"Created After:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":r[1]||(r[1]=e=>s.createdAfter=e),id:"createdAfter",class:"input"},null,512),[[a.Jo,s.createdAfter]])]),(0,o.Lk)("div",v,[r[8]||(r[8]=(0,o.Lk)("label",{for:"createdBefore"},"Created Before:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":r[2]||(r[2]=e=>s.createdBefore=e),id:"createdBefore",class:"input"},null,512),[[a.Jo,s.createdBefore]])]),(0,o.Lk)("div",E,[r[10]||(r[10]=(0,o.Lk)("label",{for:"orderStatus"},"Order Status:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":r[3]||(r[3]=e=>s.orderStatus=e),id:"orderStatus",class:"select"},r[9]||(r[9]=[(0,o.Lk)("option",{value:""},"All",-1),(0,o.Lk)("option",{value:"Pending"},"Pending",-1),(0,o.Lk)("option",{value:"Shipped"},"Shipped",-1),(0,o.Lk)("option",{value:"Delivered"},"Delivered",-1)]),512),[[a.u1,s.orderStatus]])]),(0,o.Lk)("div",S,[(0,o.Lk)("button",{onClick:r[4]||(r[4]=(...e)=>d.loadOrders&&d.loadOrders(...e)),class:"button",disabled:s.loading},"Load Orders",8,g)])]),s.loading?((0,o.uX)(),(0,o.CE)("div",L,"Loading...")):(0,o.Q3)("",!0),s.orders.length&&!s.loading?((0,o.uX)(),(0,o.CE)("div",y,[r[12]||(r[12]=(0,o.Lk)("h2",{class:"orders-title"},null,-1)),(0,o.Lk)("table",O,[r[11]||(r[11]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Order ID"),(0,o.Lk)("th",null,"Buyer Email"),(0,o.Lk)("th",null,"Order Total"),(0,o.Lk)("th",null,"Order Status"),(0,o.Lk)("th",null,"Purchase Date"),(0,o.Lk)("th",null,"Shipping Address"),(0,o.Lk)("th",null,"Action")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.filteredOrders,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.AmazonOrderId},[(0,o.Lk)("td",null,(0,m.v_)(e.AmazonOrderId),1),(0,o.Lk)("td",null,(0,m.v_)(e.BuyerInfo.BuyerEmail),1),(0,o.Lk)("td",null,(0,m.v_)(e.OrderTotal?`${e.OrderTotal.Amount} ${e.OrderTotal.CurrencyCode}`:"N/A"),1),(0,o.Lk)("td",null,(0,m.v_)(e.OrderStatus),1),(0,o.Lk)("td",null,(0,m.v_)(e.PurchaseDate),1),(0,o.Lk)("td",null,(0,m.v_)(e.ShippingAddress?`${e.ShippingAddress.City}, ${e.ShippingAddress.PostalCode}, ${e.ShippingAddress.CountryCode}`:"N/A"),1),(0,o.Lk)("td",null,[(0,o.Lk)("button",{onClick:r=>d.updateStatus(e.AmazonOrderId),class:"button"},"Update To Sended",8,b)])])))),128))])])])):(0,o.Q3)("",!0)])}var P=t(505),I=t.n(P);const _={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_AH,w={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_ET,N={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_REFRESH_TOKEN;async function R(){console.log("Getting access token...",_,w,N);const e="https://api.amazon.com/auth/o2/token",r=new URLSearchParams({grant_type:"refresh_token",client_id:"amzn1.application-oa2-client.e5d13cdca3744bfe93b49885bdff85b2",client_secret:"amzn1.oa2-cs.v1.c41a7bb734c4c73bd758ebd14476f489f82f51d37df48d9e901cfd552f90505c",refresh_token:"Atzr|IwEBIL-9QlGtBwfkiQ_cS47iSHpDPMrFvZZsgjG_AZG-tD8ef7CCeCSAlqixGsE8gJQbvDYB6k4ExleLXiWMGXstg4XqXDgZMeNiJrcQJgyN_1Elifud9FJf-yXoYa7RhougDr0dwXt-WZyerfWq4bP2yK6rpbmUHRTnhfmNFOKx2UQlNJGkCxp1BxTzmmH26mLD-BKrt2GgLuKoRYh6ERii0zEE5Jxo2MN-sHmN7EMNDlNnQCb-s16dFOHcdXorzsPkgj9Maxl6Cn3HFaAFbClrYhXwzEuvzBwnf8KzukCNkOvGRIw69cG2vmIhiZ1rh6cXBJldSQkzHnJu--hE5IP3kijwOhEzxv6nh0y8tdS42grOaA"});try{const t=await I().post(e,r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return t.data.access_token}catch(t){throw console.error("Error fetching access token:",t.response?t.response.data:t.message),t}}const B="https://cors-anywhere.herokuapp.com/",D="https://sellingpartnerapi-eu.amazon.com",U=async(e,r,t)=>{const a=await R();try{const o=await I().get(`${B}${D}/orders/v0/orders`,{params:{MarketplaceIds:e,CreatedAfter:r,CreatedBefore:t},headers:{"x-amz-access-token":a}});return o.data.payload.Orders}catch(o){throw console.error("Error fetching orders:",o.response?o.response.data:o.message),o}},V=async(e,r)=>{const t=await R();try{const a=await I().patch(`${B}${D}/orders/v0/orders/${e}/shipment`,{marketplaceId:r,shipmentStatus:"Sended"},{headers:{"x-amz-access-token":t}});return a.data}catch(a){throw console.error("Error updating order status:",a.response?a.response.data:a.message),a}};var H=t(246);const G={name:"Home",data(){return{orders:[],marketplaceId:"A13V1IB3VIYZZH",createdAfter:"",createdBefore:"",orderStatus:"",loading:!1,marketplaces:[{name:"Ireland",code:"A28R8C7NBKEWEA"},{name:"Spain",code:"A1RKKUPIHCS9HS"},{name:"United Kingdom",code:"A1F83G8C2ARO7P"},{name:"France",code:"A13V1IB3VIYZZH"},{name:"Belgium",code:"AMEN7PMS3EDWL"},{name:"Netherlands",code:"A1805IZSGTT6HS"},{name:"Germany",code:"A1PA6795UKMFR9"},{name:"Italy",code:"APJ6JRA9NG5V4"},{name:"Sweden",code:"A2NODRKZP88ZB9"},{name:"South Africa",code:"AE08WJ6YKNBMC"},{name:"Poland",code:"A1C3SOZRARQ6R3"},{name:"Egypt",code:"ARBP9OOSHTCHU"},{name:"Turkey",code:"A33AVAJ2PDY3EV"},{name:"Saudi Arabia",code:"A17E79C6D8DWNP"},{name:"United Arab Emirates",code:"A2VIGQ35RCS4UG"},{name:"India",code:"A21TJRUUN4KGV"}],orderStatuses:[{name:"All",code:""},{name:"Pending",code:"Pending"},{name:"Shipped",code:"Shipped"},{name:"Delivered",code:"Delivered"}]}},computed:{sortedOrders(){return this.orders.slice().sort(((e,r)=>new Date(r.PurchaseDate)-new Date(e.PurchaseDate)))},filteredOrders(){return this.sortedOrders.filter((e=>!this.orderStatus||e.OrderStatus===this.orderStatus))}},methods:{async loadOrders(){this.loading=!0;const e=(0,H.dj)();try{const r=await U(this.marketplaceId,this.createdAfter,this.createdBefore);console.log("Orders:",JSON.stringify(r,null,2)),this.orders=r,e.success("Orders loaded successfully")}catch(r){console.error("Error loading orders:",r);const t=r.response&&r.response.data&&r.response.data.errors&&r.response.data.errors[0]&&r.response.data.errors[0].message||"Error loading orders";e.error(t)}finally{this.loading=!1}},async updateStatus(e){const r=(0,H.dj)();try{await V(e,this.marketplaceId),r.success("Order status updated successfully")}catch(t){console.error("Error updating order status:",t);const e=t.response&&t.response.data&&t.response.data.errors&&t.response.data.errors[0]&&t.response.data.errors[0].message||"Error updating order status";r.error(e)}}}},K=(0,i.A)(G,[["render",C]]),T=K,J=[{path:"/",name:"Home",component:T}],Z=(0,p.aE)({history:(0,p.LA)("/"),routes:J}),z=Z;t(917);const M=(0,a.Ef)(u);M.use(z),M.use(H.Ay),M.mount("#app")}},r={};function t(a){var o=r[a];if(void 0!==o)return o.exports;var n=r[a]={exports:{}};return e[a](n,n.exports,t),n.exports}t.m=e,(()=>{var e=[];t.O=(r,a,o,n)=>{if(!a){var s=1/0;for(c=0;c<e.length;c++){for(var[a,o,n]=e[c],d=!0,l=0;l<a.length;l++)(!1&n||s>=n)&&Object.keys(t.O).every((e=>t.O[e](a[l])))?a.splice(l--,1):(d=!1,n<s&&(s=n));if(d){e.splice(c--,1);var i=o();void 0!==i&&(r=i)}}return r}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,o,n]}})(),(()=>{t.n=e=>{var r=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(r,{a:r}),r}})(),(()=>{t.d=(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r)})(),(()=>{var e={524:0};t.O.j=r=>0===e[r];var r=(r,a)=>{var o,n,[s,d,l]=a,i=0;if(s.some((r=>0!==e[r]))){for(o in d)t.o(d,o)&&(t.m[o]=d[o]);if(l)var c=l(t)}for(r&&r(a);i<s.length;i++)n=s[i],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},a=self["webpackChunkmy_node_vue_app"]=self["webpackChunkmy_node_vue_app"]||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))})();var a=t.O(void 0,[504],(()=>t(525)));a=t.O(a)})();
//# sourceMappingURL=app.93bb1c84.js.map